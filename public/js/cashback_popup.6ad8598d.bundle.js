(window.webpackJsonp=window.webpackJsonp||[]).push([["cashback_popup"],{"163a":function(t,e,a){"use strict";a("8e6e"),a("ac6a"),a("456d"),a("6762"),a("2fdb");var n=a("bd86"),s=a("2f62"),c=a("1630"),i=a("2103");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(a,!0).forEach(function(e){Object(n.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var u={props:["className","contentId"],directives:{clickOutside:a.n(i).a.directive},data:function(){return{modalName:this.$parent.$options._componentTag}},mounted:function(){this.openModal({modalName:this.modalName}),document.addEventListener("keyup",this.onKeyup)},destroyed:function(){this.closeModal({modalName:this.modalName}),document.removeEventListener("keyup",this.onKeyup)},computed:r({},Object(s.d)(["modals"])),methods:r({},Object(s.b)([c.d,c.a]),{onClose:function(t){var e=this.modals[this.modals.length-1];null!=e&&("game_popup"===e.modalName&&["CLICKOUT"].includes(t)||e.modalName===this.modalName&&this.$emit("closeModal"))},onKeyup:function(t){27===t.keyCode&&this.onClose("ESC")},onClickout:function(){this.onClose("CLICKOUT")}})},l=(a("1f1d"),a("2877")),d=Object(l.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal",appear:""}},[a("div",{staticClass:"modal"},[a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onClickout,expression:"onClickout"}],staticClass:"modal__in",class:t.className},[a("button",{staticClass:"modal-close",attrs:{type:"button","aria-label":"close-modal",id:"modalDialogModalClose"},on:{click:function(e){return e.stopPropagation(),t.onClose(e)}}}),t._t("default")],2)])])},[],!1,null,null,null);e.a=d.exports},"1f1d":function(t,e,a){"use strict";var n=a("adae");a.n(n).a},2103:function(t,e,a){t.exports=function(){var t="__v-click-outside",e="undefined"!=typeof window,a="undefined"!=typeof navigator,n=e&&("ontouchstart"in window||a&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"];function s(e,a){var s=function(t){var e="function"==typeof t;if(!e&&"object"!=typeof t)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:e?t:t.handler,middleware:t.middleware||function(t){return t},events:t.events||n,isActive:!(!1===t.isActive)}}(a.value),c=s.handler,i=s.middleware;s.isActive&&(e[t]=s.events.map(function(t){return{event:t,handler:function(t){return function(t){var e=t.el,a=t.event,n=t.handler,s=t.middleware;a.target!==e&&!e.contains(a.target)&&s(a,e)&&n(a,e)}({event:t,el:e,handler:c,middleware:i})}}}),e[t].forEach(function(t){var e=t.event,a=t.handler;return setTimeout(function(){return document.documentElement.addEventListener(e,a,!1)},0)}))}function c(e){(e[t]||[]).forEach(function(t){return document.documentElement.removeEventListener(t.event,t.handler,!1)}),delete e[t]}var i={bind:s,update:function(t,e){var a=e.value,n=e.oldValue;JSON.stringify(a)!==JSON.stringify(n)&&(c(t),s(t,{value:a}))},unbind:c};return{install:function(t){t.directive("click-outside",i)},directive:i}}()},4589:function(t,e,a){"use strict";var n=a("e825");a.n(n).a},adae:function(t,e,a){},e825:function(t,e,a){},ffa9:function(t,e,a){"use strict";a.r(e);a("96cf");var n=a("3b8d"),s=a("5758"),c={name:"cashback",data:function(){return{isCashbackAvailable:!0,selectedTreasureNumber:null,cashbackPercent:0,cashbackAmount:0,openBoxSound:null}},components:{modal:a("163a").a},created:function(){this.openBoxSound=new Audio,this.openBoxSound.preload="auto",this.openBoxSound.src="/adaptive/assets/audio/get-cashback.mp3"},computed:{title:function(){return this.isCashbackAvailable?"Get cashback":"Congratulations"},subTitle:function(){return this.isCashbackAvailable?"Choose your bonus":"Your cashback is "+this.cashbackAmount+" "+this.$store.getters.balance.currency},cashbackPercentText:function(){return this.cashbackPercent+" %"}},methods:{close:function(){this.$store.dispatch("closeCashback")},chooseTreasure:function(){var t=Object(n.a)(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isCashbackAvailable){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(s.c)({accountID:this.$store.getters.login,boxNumber:e});case 4:(a=t.sent).data.success?(this.cashbackPercent=a.data.percent,this.cashbackAmount=a.data.amount.toFixed(2),this.isCashbackAvailable=!1,this.selectedTreasureNumber=e,n=this,setTimeout(function(){n.openBoxSound.play()},100),this.$store.dispatch("getPlayerBalance")):console.log("response error");case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},i=(a("4589"),a("2877")),o=Object(i.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{staticClass:"cashback",attrs:{className:["cashback-modal__in"]},on:{closeModal:t.close}},[a("div",{staticClass:"cashback__container"},[a("div",{staticClass:"cashback__title text-gradient",attrs:{"data-text":t.title}},[a("span",{staticClass:"text-gradient__text"},[t._v(t._s(t.title))])]),a("div",{staticClass:"cashback__subtitle text-gradient",attrs:{"data-text":t.subTitle}},[a("span",{staticClass:"text-gradient__text"},[t._v(t._s(t.subTitle))])]),a("div",{staticClass:"cashback__treasures",class:{cashback__treasures_used:!t.isCashbackAvailable}},t._l(5,function(e){return a("div",{staticClass:"cashback__treasures-item",class:{treasure_opened:e==t.selectedTreasureNumber}},[a("div",{staticClass:"treasure",on:{click:function(a){return t.chooseTreasure(e)}}},[a("div",{staticClass:"treasure__shine"})]),a("div",{staticClass:"treasure-value text-gradient",attrs:{"data-text":t.cashbackPercentText}},[a("span",{staticClass:"text-gradient__text"},[t._v(t._s(t.cashbackPercentText))])])])}),0),a("div",{staticClass:"cashback__actions"},[a("app-button",{staticClass:"cashback__get-btn",attrs:{disabled:t.isCashbackAvailable},on:{click:t.close}},[t._v("\n        Take\n      ")])],1)])])},[],!1,null,null,null);e.default=o.exports}}]);