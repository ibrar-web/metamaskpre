(window.webpackJsonp=window.webpackJsonp||[]).push([["dailywheel_popup"],{"1f2a":function(e,t,s){"use strict";s.r(t);s("96cf");var i=s("3b8d"),n=(s("20d6"),s("5758")),a={name:"dailywheel",data:function(){return{title:"Daily free entry wheel",spinAvailable:!0,wheelSpinFinished:!1,prizeAmount:null,repeatCountSections:4,sectorValues:["100","200","500","1000","2000","5000"],sounds:{wait:null,spin:null,win:null}}},components:{},created:function(){for(var e in this.$store.dispatch("setDailyWheelIsRotating",!1),this.sounds)this.sounds[e]=new Audio,this.sounds[e].preload="auto",this.sounds[e].src="/adaptive/assets/audio/daily_wheel_"+e+".mp3"},mounted:function(){this.$refs.wheelboard.addEventListener("webkitTransitionEnd",this.onStopWheel),this.$refs.wheelboard.addEventListener("transitionend",this.onStopWheel),this.$refs.wheelboard.addEventListener("msTransitionEnd",this.onStopWheel),this.$refs.wheelboard.addEventListener("oTransitionEnd",this.onStopWheel),this.sounds.wait.loop=!0,this.sounds.wait.play()},destroyed:function(){for(var e in this.sounds)this.sounds[e].pause(),delete this.sounds[e];this.sounds=null},methods:{closeDailyWheel:function(){this.wheelSpinFinished&&this.$store.dispatch("closeDailyWheel")},spinWheel:function(){var e,t=this,s=360/this.repeatCountSections/this.sectorValues.length;e=3600+(this.sectorValues.findIndex(function(e){return e==t.prizeAmount})+1)*s,this.$refs.wheelboard.style.transform="rotate(-"+e+"deg)"},startSpin:function(){var e=Object(i.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.spinAvailable=!1,this.$store.dispatch("setDailyWheelIsRotating",!0),this.sounds.wait.pause(),this.sounds.spin.play(),e.next=6,Object(n.f)({accountID:this.$store.getters.login});case 6:(t=e.sent).data.success?(this.prizeAmount=t.data.amount,this.spinWheel()):(console.log("response error: start wheel"),this.spinAvailable=!0,this.$store.dispatch("setDailyWheelIsRotating",!1));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onStopWheel:function(){var e=Object(i.a)(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.wheelSpinFinished){e.next=2;break}return e.abrupt("return",!1);case 2:return this.wheelSpinFinished=!0,this.sounds.win.play(),this.$store.dispatch("setDailyWheelIsRotating",!1),e.next=7,Object(n.g)({accountID:this.$store.getters.login});case 7:(t=e.sent).data.success?this.$store.dispatch("setPlayerBalance",t.data):console.log("response error: stop wheel"),s=this,setTimeout(function(){s.closeDailyWheel()},3e3);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},r=(s("5c84"),s("2877")),o=Object(r.a)(a,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"daily-wheel"},[t("div",{staticClass:"daily-wheel__title"},[t("div",{staticClass:"text-gradient",attrs:{"data-text":this.title}},[t("span",{staticClass:"text-gradient__text"},[this._v(this._s(this.title))])])]),t("div",{staticClass:"daily-wheel__holder"},[t("div",{staticClass:"wheel",on:{click:this.closeDailyWheel}},[t("div",{ref:"wheelboard",staticClass:"wheel__board"}),t("div",{staticClass:"wheel__spin-btn",class:{"wheel__spin-btn_disabled":!this.spinAvailable},on:{click:this.startSpin}})])])])},[],!1,null,null,null);t.default=o.exports},2059:function(e,t,s){},"5c84":function(e,t,s){"use strict";var i=s("2059");s.n(i).a}}]);